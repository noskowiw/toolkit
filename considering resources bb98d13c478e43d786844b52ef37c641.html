<html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>Considering resources</title><link href="style.css" rel="stylesheet"/></head><body><article class="page sans" id="bb98d13c-478e-43d7-8684-4b52ef37c641"><header><figure class="image" id="fd8d3a2b-d474-491e-99a1-e1ba314832ff"><img src="Considering%20resources%20bb98d13c478e43d786844b52ef37c641/Group_139.svg" style="width:240px"/></figure><h1 class="page-title">Considering resources</h1><p class="page-description"></p></header><div class="page-body"><h2 class="" id="7d9df345-97d7-48a3-8aa7-e985eb99a503">In short:</h2><p class="" id="62bdd078-d6c0-4825-8d3e-182ead6521b2">
</p><ul class="bulleted-list" id="93fd2d11-6b32-4be7-9d17-7220cf133887"><li style="list-style-type:disc">A big part of making your solution sustainable is running it on hardware with the right amount of computing power</li></ul><ul class="bulleted-list" id="f305a175-9e9d-48b1-9098-2296435e197d"><li style="list-style-type:disc">Specialized powerful chips like like GPUs draw more power, while less powerful, more general purpose chips will take longer to complete calculations. finding the right architecture is always  a balancing act.</li></ul><ul class="bulleted-list" id="c82bb3a2-3433-4664-9b02-17d40b49bbd4"><li style="list-style-type:disc">Newer chips are usually more energy efficient, but this doesn’t mean that they are always the right choice.</li></ul><p class="" id="5e5493da-003e-4661-8bed-2ba6bc49123b">
</p><hr id="03dc241a-e30c-4e01-8257-e936b5b2f915"/><p class="" id="1be0b829-563a-475b-b1ec-f2db05dec3a0">
</p><p class="" id="971b99d6-89fc-4b9d-9264-8877a759c403">
</p><p class="" id="2ebf34e8-1f5e-4ea3-94d5-67f20f8d6bb6">From a sustainability standpoint the less energy required to complete the calculation the better. The energy required to complete specific calculation is directly proportional to the power drawn by the machine it’s being run on and the time it took to execute.</p><p class="" id="e528d5ad-ff43-4277-bfa8-7b487f907099">
</p><figure class="equation" id="6aff156d-fa30-4345-8d5b-6fe52344a3e0"><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><div class="equation-container"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="1.2em"><mrow><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">o</mi><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">a</mi><mi mathvariant="sans-serif">l</mi><mtext> </mtext><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">n</mi><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">r</mi><mi mathvariant="sans-serif">g</mi><mi mathvariant="sans-serif">y</mi><mo>=</mo><mi mathvariant="sans-serif">s</mi><mi mathvariant="sans-serif">y</mi><mi mathvariant="sans-serif">s</mi><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">m</mi><mtext> </mtext><mi mathvariant="sans-serif">p</mi><mi mathvariant="sans-serif">o</mi><mi mathvariant="sans-serif">w</mi><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">r</mi><mo>×</mo><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">x</mi><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">c</mi><mi mathvariant="sans-serif">u</mi><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">o</mi><mi mathvariant="sans-serif">n</mi><mtext> </mtext><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">i</mi><mi mathvariant="sans-serif">m</mi><mi mathvariant="sans-serif">e</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\large \mathsf {total\  energy =  system \ power \times execution \  time}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.066656em;vertical-align:-0.23332799999999998em;"></span><span class="mord sizing reset-size6 size7"><span class="mord mathsf">total</span><span class="mspace"> </span><span class="mord mathsf" style="margin-right:0.01389em;">energy</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathsf">system</span><span class="mspace"> </span><span class="mord mathsf" style="margin-right:0.01389em;">power</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathsf">execution</span><span class="mspace"> </span><span class="mord mathsf">time</span></span></span></span></span></span></div></figure><p class="" id="29613790-0d1c-46a5-baae-24d8e2d34faf">
</p><p class="" id="197c5200-8140-4332-9039-65c83418765b">For that reason It’s important to try to keep both of those values to a minimum. In practice, especially in tasks that benefit from the use of GPUs, total power of the system is often inversely proportional to the execution time. In those cases minimizing one of those factors at the expense of another (so running a very powerful system for a short time or running a low-power system for a very long time) is rarely the best option.</p><p class="" id="b64df09f-330c-4f90-9946-1879cfdaa774">
</p><p class="" id="1d1c676d-b8e5-4caf-b2e7-9fba883443a1">
</p><figure class="image" id="eff407bf-604d-472f-9c1b-0b78a723f389"><img src="Considering%20resources%20bb98d13c478e43d786844b52ef37c641/Group_105_(1).svg" style="width:288px"/></figure><><div class="source"><p class="" id="2b4b3276-5e64-4e01-84cf-ec2f14f53797"><em>The same benchmark was run on an intel and graviton chip. Here the Intel CPU was less energy efficient than graviton chips. However the graviton chips required more time to complete the calculations, causing them to consume more energy over all, in turn being responsible for more emissions </em></p><p class="" id="28e4c3ab-8eaa-403c-b474-e313905fc284"><em>source : </em><em><a href="https://docs.google.com/spreadsheets/d/1pRY-eeHIeNnDFpqodvDMgny9a84qcG2S5s2RuSk7KBg/edit#gid=332230663">https://docs.google.com/spreadsheets/d/1pRY-eeHIeNnDFpqodvDMgny9a84qcG2S5s2RuSk7KBg/edit#gid=332230663</a></em></p></div><p class="" id="988a3c62-332e-49e1-ac44-ebaa90e6b893">
</p><p class="" id="c35cb5c6-0c89-40eb-8957-002a406ff738">Finding the right balance between the performance and time can be tricky, as it requires in-depth knowledge of available architectures as well as their strengths and weaknesses. The most reliable way of finding this right middle ground  is by  testing your code multiple different architectures and picking the one that works best. A good way of estimating system power is presented in {{utilization}}. Time taken to execute the program can be measured with a {{code profiler}}</p><p class="" id="91cef0d0-ad08-4de0-9a23-726297154f39">
</p><p class="" id="736cccdb-2280-42d4-835c-06a1eee002c3"><em>Of course you should also make sure that you’re {</em><em>{utilizing your resources properly</em><em>}}</em></p><p class="" id="e81128ed-aca3-4254-a7b6-e18e50ee6562">
</p><hr id="72c7c7ed-784c-41d0-8914-9443d69bcfd7"/><h2 class="" id="2fb3b73c-9748-4e0e-8f3b-75a3cd335d26">Useful links:</h2><p class="" id="8c47faf8-c696-4fa6-a12c-ed9905bbdc2b">
</p><p class="" id="40382260-a0ef-4f78-84ab-c75969c7ab7b">List of ec2 instance types available on AWS with specs</p><p class="" id="6f552534-c1ab-476d-8e7c-5d4ba075e8e5"><a href="https://aws.amazon.com/ec2/instance-types/">https://aws.amazon.com/ec2/instance-types/</a> </p><p class="" id="4384a31d-e876-4690-9965-9b1339755a0e">
</p><p class="" id="9d1fa64a-de1c-4847-9d06-bac2c0992831">Model for estimating power consumption of instances</p><p class="" id="0f1bad19-9979-4000-9a2f-bca66145e171"><a href="https://docs.google.com/spreadsheets/d/1DqYgQnEDLQVQm5acMAhLgHLD8xXCG9BIrk-_Nv6jF3k/edit#gid=504755275">https://docs.google.com/spreadsheets/d/1DqYgQnEDLQVQm5acMAhLgHLD8xXCG9BIrk-_Nv6jF3k/edit#gid=504755275</a></p><p class="" id="8a22c62c-b01a-4b89-bc84-73a0536b2a9b">
</p><p class="" id="d4007d43-2236-418b-a7c0-c360efa30fe4">Free intel cloud platform that allows you to test your software on different intel chips</p><p class="" id="ca9d16cb-f046-40f6-99e0-99b04c791ff2"><a href="https://www.intel.com/content/www/us/en/developer/tools/devcloud/overview.html">https://www.intel.com/content/www/us/en/developer/tools/devcloud/overview.html</a></p><p class="" id="9d8e9410-c55d-43a8-84d7-4e50ecd18da5">
</p><p class="" id="e6798c4a-0fc7-4afe-a92d-bb4520120a05">
</p><p class="" id="2854e908-b523-4c8b-88e8-ae6cf0fd0a71">date:</p><p class="" id="ed7fd0b5-a08d-428c-a370-6265fd02baf5">author: Wojciech Noskowiak</p><p class="" id="225c7fb9-c4cc-4502-9b12-5fb933e9915a">
</p></div></article></body></html>