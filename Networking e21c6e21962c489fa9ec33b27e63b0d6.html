<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Networking</title><link rel="stylesheet" href="style.css"></head><body><article id="e21c6e21-962c-489f-a9ec-33b27e63b0d6" class="page sans"><header><h1 class="page-title">Networking</h1><p class="page-description"></p></header><div class="page-body"><p id="89b08166-427f-49fc-9055-268905114574" class="">date:</p><p id="928e89e5-18a1-4e34-a7be-617a00c8d093" class="">author: Wojciech Noskowiak</p><h2 id="9950a1af-dbb6-4584-acc1-95446c2091d6" class="">in short:</h2><ul id="1aae675f-43da-4156-b34a-81253c0f6ae9" class="bulleted-list"><li style="list-style-type:disc">Sending data over internal networks is significantly more resource-intensive than reading system memory. The difference becomes even more impressive when considering sending data over the wider internet </li></ul><ul id="e24be51b-7e69-45ac-a12b-52843538e685" class="bulleted-list"><li style="list-style-type:disc">The amount of data transported over the network should be kept to a minimum. In most cases, the energy cost of networking is high enough to justify extra processing to minimize the packet size.</li></ul><ul id="48e65140-4ab9-4adf-bca1-e4a7baf67691" class="bulleted-list"><li style="list-style-type:disc">When designing the networking solution, both the amount of calls and the data they carry should be kept to a minimum.</li></ul><ul id="898624b7-2b8b-4d84-9867-31c3793a5043" class="bulleted-list"><li style="list-style-type:disc">Techniques such as response caching or lazy-loading should be used wherever applicable.</li></ul><p id="fb5fce83-381d-431b-ac50-e94483e12216" class="">
</p><p id="bb746258-bc95-43f8-8ab3-53cef9be4e83" class="">In modern network architectures, particularly in internal networks, the speed of networking is often sufficient to support the design of high-throughput applications without the need for optimizing network traffic. While such architectures are perfectly sound from a functional standpoint, it&#x27;s important to recognize that sending data over any network is always associated with a significant energy cost.</p><p id="202d205a-d70e-4450-b2c6-d8f24dc9b897" class="">Networking is one of the most significant contributors to the total amount of computation that a server farm needs to perform. Each time a packet needs to be re-routed, its entire content need to be processed by a physical machine, which then consults the routing table to determine its destination and send it on its way (most likely to another router).</p><p id="4b76d7f4-6a78-4687-8da6-02b0c790876c" class="">While these operations may seem small, they still come with their own inherent energy cost. In large internal networks, packets usually make between 5 and 9 &quot;hops&quot; (re-routes) on their way from one server to another. When packets are sent over the larger internet, the expected amount of &quot;hops&quot; increases to somewhere between 12 and 17. It&#x27;s important to note that the energy efficiency of routers, while high in modern machines, still does not compare to the efficiency of reading data from local operational memory. Therefore, optimizing network traffic can greatly reduce the energy consumption of servers and minimize their impact on the environment.</p><p id="0e7102a7-7b3c-42c6-ac66-be5ed979d4ba" class="">
</p><figure id="cbcb3938-f4cd-4a74-b27a-b8195d5b48e1" class="image"><a href="Networking%20e21c6e21962c489fa9ec33b27e63b0d6/Group_10_(1).svg"><img style="width:1335px" src="Networking%20e21c6e21962c489fa9ec33b27e63b0d6/Group_10_(1).svg"/></a></figure><p id="76b01ff2-592f-4bce-b945-0ee86406e67f" class="">{{source}}</p><p id="3bf408f4-2561-441c-a839-b0ad5560e92f" class="">
</p><p id="d917bf3b-9939-4e15-8baa-c9f86e69fb02" class="">As the graph above shows, the energy efficiency of sending data over the AWS internal network is an order of magnitude lower than that of reading data from local memory. This difference only becomes more drastic when considering sending these packages over the larger internet, where this difference jumps to over three orders of magnitude</p><p id="6d1bceee-8139-4b90-8659-808716e6871b" class="">As the schemas used by internal services to communicate are very difficult to change after the solution is implemented, optimizations regarding reducing the amount of networking should me made while designing a solution.  An example of such an optimization is given below.</p><h2 id="9457c2a7-0cee-495e-a5e5-ec95402f3167" class="">Example</h2><p id="32f0c9e9-bfcf-40c9-926a-4e678f27da22" class="">Consider a scenario where a browser app and an API endpoint are being designed. The app&#x27;s only task is to display certain graphs and statistics deduced from data the endpoint has access to. The final logical architecture of the solution is bound to land somewhere between these two extremes:</p><p id="05137ab6-8498-4652-ab40-24b6eb46685a" class="">
</p><figure id="97e5955f-169c-4a94-a860-a8579ac63e7d" class="image"><a href="Networking%20e21c6e21962c489fa9ec33b27e63b0d6/Group_36.svg"><img style="width:432px" src="Networking%20e21c6e21962c489fa9ec33b27e63b0d6/Group_36.svg"/></a></figure><p id="02254210-ce5e-49fb-8505-d7425e12ff04" class="">
</p><ul id="cfdf2d5b-8555-4298-93e3-9c2d566b2ccb" class="bulleted-list"><li style="list-style-type:disc">Largely unprocessed data is being sent through the network and most of theprocessing client-side (the most extreme example here would be making the API semd raw data taken directly from the source and doing all of the processing client-side).</li></ul><figure id="94ea66cf-d48a-4880-b997-86650f6424d1" class="image"><a href="Networking%20e21c6e21962c489fa9ec33b27e63b0d6/Group_19_(1).svg"><img style="width:432px" src="Networking%20e21c6e21962c489fa9ec33b27e63b0d6/Group_19_(1).svg"/></a></figure><ul id="67fd47f0-ca3a-4b44-89eb-782bbc5c2e27" class="bulleted-list"><li style="list-style-type:disc">Most of the processing is being done server-side and sends the results to the client website, resulting in a larger packet size (the most extreme example of this would be rendering every graph on the server and sending them as image files to the client).</li></ul><p id="b8ff4f8f-c94b-4a92-97d3-ce76b55efcde" class="">
</p><p id="39a555a5-976a-4fbc-ae59-d386e61b7232" class="">Of course, practicality should be the main deciding factor when making this architectural decision. From a sustainability stand-point, however, the second approach is almost always better. </p><p id="225e0722-a501-4f96-a93a-3b1877a8f586" class="">Even taking into the account, the fact that processing can most likely be done much more efficiently, server-side networking is resource-intensive enough to justify moving it to the client-side. </p><p id="2f2a1de3-d1f3-4d93-9032-44cadc7cf6e5" class="">This analogy does not map perfectly onto all practical uses of networking, but one should still keep it in mind when designing network applications. The less data you send over the network the better. As (1) suggests, in most cases the energy overhead is big enough to justify performing extra processing in order to reduce packet size.</p><p id="9afa2574-b275-4bf3-ad88-a9485132889d" class="">When a response is guaranteed or is not likely to change, a good way to reduce network traffic is by implementing a caching mechanism. This allows the program to remember the response given by the server and refresh it only when required.</p><p id="baf60cf7-6702-40be-8005-cefb7b2fb94b" class="">When a certain part of the data will not necessarily end up being used, lazy loading mechanisms should be implemented. These allow one to load required data only when it becomes absolutely necessary.</p><p id="186fad25-8f25-46ec-a513-33f57f5f728b" class="">
</p></div></article></body></html>